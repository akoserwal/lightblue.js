{"version":3,"file":"bundle.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/client.js","src/lightblue.js","src/query.js"],"names":[],"mappings":"AAAA;ACAA;;ACAA;;ACAA","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function LightblueClient(e){this.host=e}function LightblueRequest(e,t,n,s){this.client=e,this.method=\"string\"==typeof t?t.toLowerCase():\"\",this.METHOD=this.method.toUpperCase(),this.data=n,this.url=s}function FindRequest(e,t){var n=\"\";e instanceof Object&&t instanceof Object&&(n=resolve(e.host,\"data/find\",t.entity,t.version)),LightblueRequest.call(this,e,\"post\",t,n)}function InsertRequest(e,t){var n=\"\";e instanceof Object&&t instanceof Object&&(n=resolve(e.host,\"data\",t.entity,t.version)),LightblueRequest.call(this,e,\"put\",t,n)}function SaveRequest(e,t){var n=\"\";e instanceof Object&&t instanceof Object&&(n=resolve(e.host,\"data/save\",t.entity,t.version)),LightblueRequest.call(this,e,\"post\",t,n)}function UpdateRequest(e,t){var n=\"\";e instanceof Object&&t instanceof Object&&(n=resolve(e.host,\"data/update\",t.entity,t.version)),LightblueRequest.call(this,e,\"post\",t,n)}function DeleteRequest(e,t){var n=\"\";e instanceof Object&&t instanceof Object&&(n=resolve(e.host,\"data/delete\",t.entity,t.version)),LightblueRequest.call(this,e,\"post\",t,n)}function resolve(){function e(e){return\"string\"!=typeof e?\"\":(e=e.replace(new RegExp(\"^/*\"),\"\"),e=e.replace(new RegExp(\"/*$\"),\"\"))}return 0===arguments.length?\"\":Array.prototype.slice.call(arguments,0).map(e).join(\"/\")}LightblueClient.prototype.find=function(e){return new FindRequest(this,e)},LightblueClient.prototype.insert=function(e){return new InsertRequest(this,e)},LightblueClient.prototype.update=function(e){return new UpdateRequest(this,e)},LightblueClient.prototype.save=function(e){return new SaveRequest(this,e)},LightblueClient.prototype.delete=function(e){return new DeleteRequest(this,e)},FindRequest.prototype=new LightblueRequest,FindRequest.prototype.constructor=FindRequest,InsertRequest.prototype=new LightblueRequest,InsertRequest.prototype.constructor=InsertRequest,SaveRequest.prototype=new LightblueRequest,SaveRequest.prototype.constructor=SaveRequest,UpdateRequest.prototype=new LightblueRequest,UpdateRequest.prototype.constructor=UpdateRequest,DeleteRequest.prototype=new LightblueRequest,DeleteRequest.prototype.constructor=DeleteRequest;","var client=require(\"./client.js\"),query=require(\"./query.js\");exports.client=client,exports.query=query;","function QueryExpression(o){o instanceof Object&&(this.json=o)}function NaryLogicalExpression(o,r){if(this.op=o,this.expressions=r||[],r instanceof Array){var n={};n[o]=r.map(function(o){return o.toJSON()})}QueryExpression.call(this,n)}function AndExpression(o){o instanceof Array||(o=Array.prototype.slice.call(arguments,0)),NaryLogicalExpression.call(this,\"$and\",o)}function OrExpression(o){o instanceof Array||(o=Array.prototype.slice.call(arguments,0)),NaryLogicalExpression.call(this,\"$or\",o)}function Field(o){this.field=o}function FieldComparison(o,r,n){QueryExpression.call(this,{field:o,op:r,rfield:n})}function ValueComparison(o,r,n){QueryExpression.call(this,{field:o,op:r,rvalue:n})}function field(o){return new Field(o)}QueryExpression.prototype.and=function(o){return new AndExpression(this,o)},QueryExpression.prototype.or=function(o){return new OrExpression(this,o)},QueryExpression.prototype.toJSON=function(){return this.json},NaryLogicalExpression.prototype=new QueryExpression,NaryLogicalExpression.prototype.constructor=NaryLogicalExpression,AndExpression.prototype=new NaryLogicalExpression,AndExpression.prototype.constructor=AndExpression,AndExpression.prototype.and=function(o){return new AndExpression(this.expressions.concat(o))},OrExpression.prototype=new NaryLogicalExpression,OrExpression.prototype.constructor=OrExpression,OrExpression.prototype.or=function(o){return new OrExpression(this.expressions.concat(o))},Field.prototype.__comparison=function(o,r){return r instanceof Field?new FieldComparison(this.field,o,r.field):new ValueComparison(this.field,o,r)},Field.prototype.equalTo=Field.prototype.eq=function(o){return this.__comparison(\"$eq\",o)},Field.prototype.greaterThan=Field.prototype.gt=function(o){return this.__comparison(\"$gt\",o)},FieldComparison.prototype=new QueryExpression,FieldComparison.prototype.constructor=FieldComparison,ValueComparison.prototype=new QueryExpression,ValueComparison.prototype.constructor=ValueComparison;"]}